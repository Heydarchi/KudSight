<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>KudSight - Code Visualization</title>
  <link rel="stylesheet" href="/static/style.css">
  <script src="//cdn.jsdelivr.net/npm/3d-force-graph"></script>
</head>
<body>

  <!-- Top Controls -->
  <div id="controls">
    <input type="text" id="folderPath" placeholder="Enter full folder path..." />
    <button id="analyzeBtn" class="btn">Analyze</button>
    <span id="status"></span>
    <!-- Start Change: Add View Mode Switcher -->
    <div id="view-mode-switcher">
      <label>View:</label>
      <input type="radio" id="viewMode3D" name="viewMode" value="3d" checked>
      <label for="viewMode3D">3D Graph</label>
      <input type="radio" id="viewModeUML" name="viewMode" value="uml">
      <label for="viewModeUML">UML Diagram</label>
    </div>
    <!-- End Change -->
    <div id="cameraInfo"></div>
  </div>

  <!-- Main Layout: Side Panel + Content Area -->
  <div id="main-container">

    <!-- Left Side Info Panel -->
    <div id="side-panel">
      <div id="json-select-container">
        <label >KudSight Version: {{ version }}</label>
        <label ></label>
        <label ></label>
        <label for="graphDataFile">Analysis Result:</label>
        <select id="graphDataFile"></select>
        <button id="refreshButton" class="btn">‚ü≥ Refresh</button>
      </div>
    
      <div id="panel-header">
        <label for="categorySelect">Category</label>
        <select id="categorySelect">
          <option value="class">Class</option>
          <option value="module">Module</option>
        </select>
      </div>
    
      <div id="panel-list">
        <strong>Items</strong>
        <ul id="itemList"></ul>
        <div id="filter-controls">
            <button id="focusSelectedBtn" class="btn btn-small">Focus on Selected</button>
            <button id="clearSelectionBtn" class="btn btn-small">Clear Selection</button>
            <button id="showAllBtn" class="btn btn-small">Show All</button>
        </div>
      </div>
    
      <div id="panel-details">
        <strong>Details</strong>
        <div id="itemDetails">Select an item to view details.</div>
      </div>
    </div>
    

    <!-- Content Area (Graph or Image) -->
    <div id="content-area">
      <!-- Graph Container (Initially visible) -->
      <div id="graph-container">
        <div id="3d-graph"></div>
      </div>
      <!-- Start Change: Add UML Image Container (Initially hidden) -->
      <div id="uml-image-container" class="hidden">
        <img id="uml-image" src="" alt="UML Diagram" />
      </div>
      <!-- End Change -->
    </div>

  </div>

  <!-- Right Camera Control Panel -->
  <div id="right-panel">
    <h4>Camera Controls</h4>
    <button id="resetCamBtn" class="btn">Reset Camera</button>
    <button id="zoomInBtn" class="btn">Zoom In</button>
    <button id="zoomOutBtn" class="btn">Zoom Out</button>
    <button id="tiltUpBtn" class="btn">Tilt Up</button>
    <button id="tiltDownBtn" class="btn">Tilt Down</button>
    <button id="orbitLeftBtn" class="btn">Orbit Left</button>
    <button id="orbitRightBtn" class="btn">Orbit Right</button>
    <button id="rollLeftBtn" class="btn">Roll Left</button>
    <button id="rollRightBtn" class="btn">Roll Right</button>
  </div>

  <!-- Entry Point JS -->
  <script type="module" src="/static/ui.js"></script>
</body>
</html>
